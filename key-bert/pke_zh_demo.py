#!/usr/bin/env python
# -*- encoding: utf-8 -*-
"""
@Date    :   2024/4/17 08:53
@Author  :   luyizhou
@Desc    :   
"""
# from pke_zh import KeyBert, WordRank
#
# m = WordRank()
# print(m.extract("被评过3次以上金牛奖的基金？"))

from jieba import analyse

def count_and_sort(lst):
    # 统计每个元素出现的次数
    count_dict = {}
    for item in lst:
        if item in count_dict:
            count_dict[item] += 1
        else:
            count_dict[item] = 1

    # 按照出现次数从大到小排序
    sorted_counts = sorted(count_dict.items(), key=lambda x: x[1], reverse=True)

    return sorted_counts

menu_list = [
    '首页',
    '新闻首页',
    '管理工作门户',
    '发起评级',
    '评级流程查看',
    '主体、债券认定评级查询',
    '准入线维护',
    '敞口配置',
    '债券信息更新功能',
    '债券评级分数配置表',
    '主体/债券认定评级查询',
    '各部门主体持有信息_信评秘书查看',
    '各部门主体持有信息',
    '全部评级流程查看',
    '波动率',
    '股票指数',
    '汇率',
    '商品指数',
    '债券利差',
    '中资美元债',
    '风险因子设置',
    '实时保证金比例监控',
    '客户融资融券合约逾期',
    '融资融券保证金比例监控',
    '账户资料变更监控',
    '应平未平',
    '投资者适当性',
    '关注客户成交预警',
    '证券账户查询',
    '客户信用记录变化监控',
    '保证金比例监控',
    '出借人信息查询',
    '保证金账户资金查询',
    '转融通委托查询',
    '单证券转融通负债占净资本比例',
    '保证金账户委托查询',
    '转融通标的费率期限查询',
    '转融通负债占净资本比例',
    '单证券公司总数量占股本比例监控',
    '保证金账户证券查询',
    '转融通合约查询',
    '转融通快报',
    '融资融券机构客户分类维护',
    '融资融券客户资产负债统计分类',
    'G0134风控制标参数管理',
    'G0135证券集中度控制管理',
    '风控指标扩展参数',
    'G0097保证金比例查询',
    '特定股份减持控制信息',
    'G0098证券资格比例模板',
    '场外期权卖方业务监控',
    '收益互换卖方业务监控',
    '希腊值统计',
    '规模统计',
    '集中度监控',
    '信用风险管理新',
    '利润总额表',
    '财务录入项',
    '关注池报表',
    '风险关注池项目数量概况',
    '包销风险汇总表',
    '出入池/风险事项录入',
    '出入池/风险事项更新',
    '报送流程跟踪',
    '包销风险基础维护',
    '客户基础信息',
    '持仓明细',
    '资金余额',
    '资金流水',
    '委托流水',
    '成交流水',
    '客户资产负债汇总',
    '授信变更流水',
    '合同信息',
    '专项合约信息',
    '息费率变更',
    '约定购回合约明细',
    '融出证券头寸',
    '融资融券负债明细',
    '机构及产品户查询',
    '单客户单证券持仓数量占股本比',
    '单客户单证券融资融券占流通比',
    '公司单证券持仓数量占股本比',
    '公司单证券融资融券占流通比',
    '公司单证券融资融券占总股本比',
    '单客户融资融券负债占总比',
    '单客户单证券持仓市值占其总资产比',
    '单客户板块持仓市值占其总资产比',
    '单客户融资融券授信额度占总授信额度比',
    '单客户单证券净多/空头占其净资产比',
    '单客户融资融券负债本金占其总授信额度比',
    '单客户单板块融资融券占其融资融券比',
    '单客户单证券持仓市值占其总持仓比',
    '单客户持仓最高证券市值占该证券总持仓市值比',
    '单客户双创板块持仓市值占其总持仓市值比',
    '单客户融资融券金额占总授信额度比',
    '单客户单板块净多/空头占其净资产比',
    '营业部单证券融资融券负债占总比',
    '公司单板块融资融券负债占总融资融券负债比',
    '公司单证券持仓市值占总资产比',
    '公司单证券融资融券负债占总融资融券负债比',
    '公司单板块持仓市值占总资产比',
    '流动性风险-特定股份信息查询',
    '担保证券变动',
    '标的证券变动',
    '维持担保比例监控',
    '维持担保比例盘后校验',
    '客户维比预警阈值维护',
    '单客户融资（含融券）业务规模占净资本比',
    '融资(含融券)的金额/净资本',
    '接受单只担保股票市值与该股票总市值比例',
    '单客户融资融券负债占净资本比',
    '公司单板块净空头占净资本比',
    '公司单板块融资融券负债占净资本比',
    '公司单证券净空头占净资本比',
    '公司单证券融资融券负债占净资本比',
    '公司融资融券负债占净资本比',
    '融资融券未补仓监控',
    '融券客户关联交易查询',
    '强平汇总情况查询',
    '营业部信用交易统计',
    '证券融资融券统计',
    '融资融券增减明细',
    '客户信用交易统计',
    '平均授信使用率',
    '客户融资融券分类统计查询',
    '客户还款还券统计',
    '客户盈亏状况统计',
    '融券专户查询',
    '合约期限结构统计',
    '营业部融资融券统计',
    '实时维持担保比例',
    '实时维比盘后校验',
    '实时持仓明细',
    '实时成交流水',
    '实时融资融券负债明细',
    '实时应平未平',
    '实时标的证券变动',
    '实时资金流水',
    '实时担保证券',
    '实时资金余额',
    '净资本杠杆20%集中度25%',
    '杠杆40%集中度40%',
    '杠杆50%集中度50%',
    '公司各业务部门资金成本结算',
    '子公司数据查询',
    '预警工作台',
    '投顾产品资产',
    '投顾导入',
    '投顾持仓明细',
    '海外专户产品表',
    '海外专户产品资产查询',
    '海外专户产品持仓明细查询',
    '创新流动性折扣值维护',
    'rml文件导入',
    'position境外债',
    '非经反洗钱文件上传',
    '非经反洗钱自然人信息',
    '非经反洗钱机构信息',
    '报表参数',
    '流程管理中心',
    '用户登录信息',
    '数据迁移登记',
    '流程推送监听',
    '门户配置页面',
    '市场风险门户',
    '压力情景库',
    '历史数据准备',
    '风险因子相关性',
    'risksetting配置',
    '压力测试信息管理',
    '压力测试系统信息',
    '报表导航',
    '头寸浏览器',
    '接口层查询',
    '报表信息管理',
    '用户登录信息',
    '数据质量概览',
    '门户配置页面',
    '同一标的参数汇总展示',
    '营业收入-业务线',
    'DMA业务框架合约监控',
    'DMA业务子合约监控',
    'DMA业务客户资金盯市',
    'DMA业务固定收益结转明细',
    '每日参数查询',
    '参数变动记录',
    '期权估值模型结果对比',
    '场外-收益互换持仓',
    '场外-场外期权持仓',
    '场内-卖方对冲持仓',
    '压力情景设置',
    '压力情景下场内持仓明细',
    '压力情景下场外持仓明细',
    '压力测试结果汇总表-市值',
    '压力测试结果汇总表-损益',
    '极端压力情形—盈亏汇总表',
    '极端压力情形—兑付明细表',
    '集团自营业务市场风险总览',
    '集团市场风险限额指标监控',
    '公司止损限额监控',
    '风险止损限额调整值维护',
    '非权益类证券集中度',
    '权益类证券集中度',
    'MOM产品数据查询',
    '证券集中度监控',
    '证券剩余规模/总股本维护',
    '预警豁免列表视图',
    '量化交易基础指标设置',
    '量化交易指标阈值维护',
    '量化交易指标监控',
    '量化交易指标预警查询',
    '场内期权量化交易监控日志',
    '产品投资绩效分析',
    '股票投资行业变化分析',
    '集团自营投资监控',
    '产品管理人自营投资阀值维护',
    '产品管理人自营投资限额监控',
    '豁免产品维护',
    '产品管理人自营投资监控明细',
    '数据应用链路',
    '集合持仓开放信息查询',
    '资管杠杆率',
    '自有资金参与比例查询',
    '科创板做市指标维护',
    '科创板做市指标阈值维护',
    '科创板做市交易监控日志',
    '科创板做市指标监控结果查询',
    '科创板最大做市规模维护',
    '北交所做市指标监控结果查询',
    '北交所做市业务监控日志',
    '北交所做市指标维护',
    '北交所做市指标阈值维护',
    '北交所最大做市规模维护',
    '集团日报（帆软平台）',
    '股票投资',
    '基金及产品投资',
    '预警阈值设置',
    '久期限制主体',
    '场外期权敲入情况明细查询',
    '压测管理预警日志',
    '场外-单鲨期权持仓',
]


index_list = [
    '业务部门AA（含）以下及无评级债券规模（穿透）',
    '业务部门债券投资信用预期损失',
    '持有一种非权益类证券的规模与其总规模',
    '持有一种非权益类证券的规模与其总规模',
    '业务部门债券正回购资金余额',
    '网络系统正常率-东吴香港',
    '自营非权益类证券及其衍生品与净资本比例',
    '重大操作风险事件-东吴香港',
    '重大违规事件的发生数-东吴期货',
    '分类评价期投保基金提示关注次数-东吴证券',
    '操作风险损失限额-东吴集团',
    '自有资金投资同一（外部）管理人发行的私募证券类产品限额',
    '分类评价期投保基金一般预警次数-东吴证券',
    '分类评价期投保基金重大预警次数-东吴证券',
    '员工委托来源次数-东吴证券',
    '交易系统正常率-东吴香港',
    '监管报表出错次数-东吴香港',
    '风险覆盖率',
    '业务部门自营投资杠杆倍数',
    '业务部门债券正回购资金余额',
    '操作风险损失限额-东吴证券（经营层）',
    '操作风险损失限额-东吴中新',
    '分类评价期CISP差错次数',
    '业务部门止损限额',
    '业务部门止损限额',
    '自有资金投资单一权益类证券集中度',
    '自有资金投资单一权益类证券集中度',
    '持有一种权益类证券的成本与净资本的比例',
    '持有一种权益类证券的成本与净资本的比例',
    '持有一种非权益类证券的规模与其总规模',
    '衍生品买方策略投资组合整体Delta净敞口',
    '业务部门单日VaR限额',
    '持有一种权益类证券的成本与净资本的比例',
    '业务部门债券逆回购资金余额与公司上月末净资产的比例',
    '业务部门信用债投资规模',
    '业务部门单日VaR限额',
    '业务部门止损限额',
    '业务部门DV01限额',
    '业务部门自营投资杠杆倍数',
    '业务部门债券逆回购资金余额与公司上月末净资产的比例',
    '自有资金参与融资融券规模占净资本比例',
    '子公司AA（含）以下及无评级债券规模',
    '子公司单日VaR限额',
    '操作风险损失限额-东吴创新',
    '自有资金投资，持有现金、银行存款、国债、基金等高流动性资产的比例（不得投资于上市交易的股票、期货及其他衍生品）',
    '子公司单日VaR限额',
    '优质流动性资产池核定运营资金规模',
    '市场风险损失限额',
    '全部公募基金和私募产品：现券价格偏离',
    '全部私募集合产品：自有资金参与单个集合资产管理计划的份额比例',
    '私募权益类产品：持有股权类资产的比例',
    '私募固定收益类产品：持有债权类资产的比例',
    '私募商品及衍生品类产品：商品及金融衍生品的持仓合约价值占比，衍生品账户权益占比',
    '私募混合类产品：上述三类产品都不满足的',
    '全部私募集合产品：单个集合产品投资同一资产资金的比例',
    '全部私募集合产品：集合资产管理计划开放退出期内，资产组合中7个工作日可变现资产的比例',
    '全投标准化私募集合产品：在开放退出期时，全投标准化的集合流动性受限资产比例',
    '全部公募基金：投资单只内评3或3+的信用债面值占产品净资产的比例',
    '全部私募集合：投资单只内评3或3+的信用债面值占产品净资产的比例',
    '全部私募单一：投资单只内评3或3+的信用债面值占产品净资产的比例',
    '全部公募基金：投资单只内评3-的信用债面值占产品净资产的比例',
    '全部私募集合：投资单只内评3-的信用债面值占产品净资产的比例',
    '全部公募基金：不得投资内评4+及以下的信用债',
    '全部私募基金：不得投资内评4+及以下的信用债',
    '全部私募集合产品：单产品投资全部内评4+的信用债比例',
    '全部私募单一产品：单产品投资全部内评4+的信用债的比例',
    '全部公募基金和私募产品：所有产品投资江浙两省单一市所有城投（含区县）的比例',
    '全部公募基金和私募产品：所有产品投资江浙两省以外省份的单一区县或开发区所有城投的比例',
    '单品种止损限额',
    '单一保证金抵押品集中度(占贷款规模)',
    '风险覆盖率',
    '子公司信用债投资规模',
    '全部公募基金和私募产品：回购利率偏离',
    '全部公募基金和私募产品的场内回购业务指标：交易所回购融资主体（单产品）开展融资回购交易，持有的债券主体评级为AA+',
    '全部公募基金和私募产品的场内回购业务指标：回购融资主体（单产品）开展融资回购交易的的回购融资负债率',
    '全部公募基金和私募产品的场内回购业务指标：回购融资主体（单产品）开展融资回购交易时，单一发行人信用类债券入库担保集中度',
    '全部公募基金：自有资金投资本公司及子公司管理的单个特定客户资产管理计划的份额与本公司及子公司员工投资的份额合计比例',
    '全部公募基金：同一基金管理人管理的全部基金持有一家公司发行证券的比例',
    '流动性覆盖率',
    '净资本',
    '风险覆盖率',
    '资本杠杆率',
    '自有资金参与股票质押规模占净资本比例',
    '公司信用业务规模（自有）与净资本的比例',
    '单一客户股票质押交易规模限额',
    '资本杠杆率',
    '流动性覆盖率',
    '净稳定资金率',
    '杠杆率',
    '净资本与净资产的比例',
    '流动资产与流动负债的比例',
    '负债与净资产的比例',
    '证券投资金融产品止损',
    '净资本与净资产的比例',
    '净资产与负债的比例',
    '风险覆盖率',
    '分类评价期扣分总额',
    '自有资金出资上限',
    '金融资产投资与净资产的比例',
    '净资本',
    '全部私募产品：全部资产管理计划投资于同一非标准化债权类资产的资金规模',
    '净资产与负债的比例',
    '流动性覆盖率',
    '净资本与负债的比例',
    '净资本与负债的比例',
    '全部私募集合产品：所有集合产品投资同一资产的比例',
    '总头寸杠杆率（期货持牌公司）',
    '净稳定资金率',
    '净稳定资金率',
    '财务杠杆倍数',
    '集团单日VAR限额与净资产的比例',
    '母公司单日VAR限额与净资产的比例',
    '集团DV01限额与净资产的比例',
    '母公司DV01限额与净资产的比例',
    '母公司市场风险损失限额',
    '自营权益类证券及其衍生品/净资本',
    '信用风险损失限额',
    '自营非权益类证券及其衍生品与净资本比例',
    '信用债投资规模与净资产比例',
    'AA（含）以下及无评级债券规模（穿透）与净资产的比例',
    '公司信用业务规模（自有）与净资本的比例',
    '债券投资总部房地产行业信用债集中度',
    '同一客户授信限额',
    '单一证券股票质押交易规模限额',
    '全体客户单一证券融券规模占净资本比例',
    '融资融券业务同一管理人集中度限额',
    '财务杠杆倍数',
    '监管评级',
    '自有资金投资同一（外部）管理人发行的私募证券类产品限额',
    '非标项目投资规模与净资产的比例',
    '融资融券单只担保证券市值占该股票总市值比例',
    '全体客户单一证券融资金额占净资本的比例',
    '单一客户融资(含融券)规模与净资本的比例',
    '投保基金重大预警次数',
    '全部公募基金：一只基金持有一家公司发行的证券的市值占比',
    '全部公募基金：单只证券投资基金持有的所有资产支持证券的市值占比',
    '全部公募基金：新股申购不得超过新股该次发行量总量',
    '全部公募基金：新股申购规模不得超过产品总资产',
    '全部公募基金：债券逆回购资金余额占基金净资产的比例',
    '全部公募基金和私募结构化产品：产品总资产占净资产的比例',
    '全部公募开放式基金：全部开放式公募产品投资单一上市公司发行的股票占该上市公司可流通股票的比例',
    '全部公募开放式基金：单只开放式基金主动投资于流动性受限资产的比例',
    '全部公募开放式基金：开放式基金持有的现金或者到期日在一年以内的政府债券比例',
    '公募债券型基金：投资债券比例',
    '公司债券正回购资金余额与上月末净资产的比例',
    '公司债券逆回购资金余额与上月末净资产的比例',
    '期权自营业务保证金比例',
    '期货占用保证金与保证金总额的比例',
    '部门信用债投资规模',
    '业务部门DV01限额',
    '业务部门单日VaR限额',
    '持有一种非权益类证券的规模与其总规模',
    '融资融券信用预期损失',
    '融资融券单只担保证券市值占该股票总市值比例',
    '股指期货IC、IF、IH套保单边买入卖出手数',
    '股指期货投机单日单品种IC、IF、IH开仓手数',
    '股指期货单笔投机买入、卖出下单手数',
    '股指期货IC、IF、IH单合约单边总持仓手数',
    '单客户集中度指标',
    '单产品种子基金投资占比',
    '单项目实际包销金额超过预测包销金额的比例',
    '股票期权单客户公司实时风险率',
    '股票期权单客户交易所实时风险率',
    '股票期权单客户公司维持风险率',
    '股票期权单客户交易所维持风险率',
    '投保基金一般预警次数-东吴证券',
    '信息技术网络安全较大事件次数-东吴证券',
    '信息技术网络安全一般事件次数-东吴证券',
    '当年CISP差错次数-东吴证券',
    '客户投诉不利变化-东吴证券',
    '客户投诉件数占有效户比例-东吴证券',
    '客户投诉办结率-东吴证券',
    '单一证券股票质押累计规模占总股本比例（自有资金、资管产品合并计算）',
    '单一集合资产管理计划或定向资产管理客户接受单只A股股票质押的数量与该股票A股股本的比例',
    '业务部门止损限额',
    '业务部门DV01限额',
    '风险覆盖率',
    '净稳定资金率',
    '子公司AA（含）以下及无评级债券规模',
    '子公司DV01限额',
    '单一客户融资(含融券)规模与净资本的比例',
    '单一客户融资(含融券)规模与净资本的比例',
    '股票质押信用预期损失',
    '单一证券股票质押累计规模占总股本比例（仅针对自有资金）',
    '全部私募产品：产品总资产占净资产的比例',
    '全部私募产品：逆回购余额占基金净资产的比例',
    '全部私募产品：全部资产管理计划投资于非标准化债权类资产的比例',
    '证券期货经营机构及其子公司以自有资金参与其自身或其子公司管理的单个集合资产管理计划的份额合计不得超过该资产管理计划总份额的50%',
    '全部私募单一：投资单只内评3-的信用债面值占产品净资产的比例',
    '全部公募基金和私募集合：单产品投资全部内评3-的信用债的比例',
    '全部公募基金和私募产品：单只产品持仓同一主体发行的信用债的比例',
    '全部公募基金和私募产品：单只产品持仓同一主体及其关联方发行的信用债的比例',
    '全部公募基金和私募产品：所有产品投资江浙两省以外省份单一市所有城投（含区县）的比例',
    '全部公募基金和私募产品：所有产品投资江浙两省单一区县或开发区所有城投的比例',
    '期权自营同一合约品种单账户权利仓持仓、总持仓、单日开仓数量',
    '场内期权自营单笔买入、卖出张数',
    '全体客户融券规模限额',
    '保证金占用比例',
    '投保基金提示关注次数-东吴证券',
    '当年分类评价扣分总额-东吴证券',
    '佣金设置差错次数-东吴证券',
    '单一融入方累计股票质押回购融资余额（自营_资管）占净资本的比例',
    '持有一种非权益类证券的规模与其总规模',
    '财务杠杆倍数',
    '速动资金盈余（证券、期货持牌公司）',
    '速动资金变更（证券、期货持牌公司）',
    '子公司信用债投资规模',
    '子公司单日VaR限额',
    '保证金贷款总规模',
    '保证金追保金额上限',
    '长期未清偿的追保金额上限',
    '单一保证金客户集中度(占股东资金)',
    '单一保证金客户集中度(占贷款业务目标规模)',
    '操作风险损失限额-东吴香港',
    '净头寸杠杆率（期货持牌公司）',
    '风险覆盖率',
    '业务部门核定运营资金规模',
    '双边有效报价时长间隔',
    '最小申报数量',
    '双边报价买卖价差',
    '最低报买价监控',
    '最高报卖价监控',
    '首发项目包销金额占比',
    '单项目实际包销金额超过预测包销金额的比例',
    '子公司DV01限额',
    '类固收单项目、单交易对手集中度',
    '子公司单日VaR限额',
    '操作风险损失限额-东吴创投',
    '自有资金参与基金比例',
    '信息技术网络安全重大事件次数',
    '业务部门VaR限额',
    '衍生品买方策略投资组合止损限额',
    '全天双边有效报价时长',
    '最迟双边报价时间',
    '成交量加权平均价监控',
    '可转债项目包销金额占比',
    '净资本',
    '净资本与风险资本准备总额的比例',
    '净资本与净资产的比例',
    '监管评级',
    '穿仓损失占当年计提风险准备金比例',
    '金融资产总投资止损限额(含子公司)',
    '子公司信用债投资规模',
    '子公司单日VaR限额',
    '子公司DV01限额',
    '操作风险损失限额-东吴期货',
    '净资本',
    '风险覆盖率',
    '净资本与净资产的比例',
    '流动性覆盖率',
    '场外业务客户违约',
    '仓单代理采购、质押及基差贸易',
    '自有资金投资本公司及子公司管理的单个特定客户资产管理计划的份额与本公司及子公司员工投资的份额合计比例',
    '操作风险损失限额-东吴基金',
    '逆回购交易对手限额',
    '信用风险损失限额',
    '操作风险损失限额-东吴证券（董事会）',
    '全部公募基金和私募产品：所有产品投资单一上市公司发行股票占该公司可流通股的比例',
    '单一标的证券累计股票质押回购融资余额（自营_资管）占净资本的比例',
    '股票质押标的证券质押率',
    '业务部门信用债投资规模',
    '业务部门单日VaR限额',
    '流动性覆盖率',
    '资本杠杆率',
    '自营权益类证券及其衍生品/净资本',
    '持有一种非权益类证券的规模与其总规模',
    '卖方业务对冲后Delta净敞口',
    '业务部门止损限额',
    '自有资金投资单一权益类证券集中度',
    '业务部门单日VaR限额',
    '持有一种非权益类证券的规模与其总规模',
    '自有资金投资单一权益类证券集中度',
    '持有一种权益类证券的成本与净资本的比例',
    '业务部门自营投资杠杆倍数',
    '业务部门债券正回购资金余额与公司上月末净资产的比例',
    '业务部门债券逆回购资金余额与公司上月末净资产的比例',
    '业务部门信用债投资规模',
    '业务部门AA（含）以下及无评级债券规模（穿透）',
    '业务部门债券投资信用预期损失',
    '业务部门单日VaR限额',
    '业务部门止损限额',
    '业务部门DV01限额',
    '持有一种非权益类证券的规模与其总规模',
    '业务部门AA+及以下信用债投资规模',
    '结算准备金额',
    '资产管理产品信用债投资限额',
    '债券投资止损限额',
    '股票期货期权止损限额',
    '业务部门AA+及以下信用债投资规模',
    '业务部门VaR限额',
    '上市股票做市止损限额',
    '业务部门AA（含）以下及无评级债券规模（穿透）',
    '重大融资项目限额-8亿',
    '子公司的Delta限额',
    '业务部门AA+及以下信用债（可转/交债）投资规模',
    '业务部门AA+及以下信用债投资规模（穿透）',
    '业务部门AA+及以下信用债投资规模（穿透）',
    '业务部门止损限额',
    '业务部门债券投资信用预期损失',
    '子公司AA（含）以下及无评级债券规模',
    '重大融资项目限额-10亿',
    '债券投资止损限额',
    '业务部门AA+及以下信用债投资规模（穿透）',
    '业务部门AA+及以下信用债投资规模',
    'AA+及以下信用债规模与净资产的比例',
    'AA+及以下信用债规模（穿透）与净资产的比例',
    '杠杆率',
    '自营债券交易所回购信用类债券入库集中度占比',
    '高股息专项盈亏预警限额',
    '自营债券交易所回购标准券使用率',
    '自营债券交易所回购融资负债率',
    '自营债券交易所回购单一发行人信用类债券入库担保集中度',
]


keyword_list = []
tfidf = analyse.extract_tags

# for text in menu_list:
#     keywords = tfidf(text)
#     print(keywords)
#     keyword_list.extend(keywords)
#
# for index in index_list:
#     keywords = tfidf(index)
#     print(keywords)
#     keyword_list.extend(keywords)
#
# keyword_list = count_and_sort(keyword_list)
#
# from pprint import pprint
# pprint(keyword_list)

import json
# with open('keywords.json', 'r') as f:
#     f.write(json.dumps(keyword_list, ensure_ascii=False, indent=4))


with open('keywords.json', 'r', encoding='utf-8') as f:
    data = f.read()
data = json.loads(data)

def filter_and_sort(a, b):
    # 过滤出在b中存在的元素
    filtered_a = [tuple(item) for item in a if item[0] in b]

    # 按照a中元组的数字降序排序
    sorted_filtered_a = sorted(filtered_a, key=lambda x: x[1], reverse=True)

    return sorted_filtered_a

a = [('比例', 106),
 ('证券', 80),
 ('限额', 68),
 ('投资', 55),
 ('产品', 53),]

b = ['限额', '比例']

query = '请问最近的大盘趋势'
# query = '请问最近的融资融券情况'
query_keywords = tfidf(query)
print(query_keywords)
result = filter_and_sort(data, query_keywords)
if not result:
    result = [(item, 0) for item in query_keywords]
print(result)
